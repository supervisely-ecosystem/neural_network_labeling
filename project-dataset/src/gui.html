<div>
    <sly-card title="Input Project" subtitle="Link to input project">
        <sly-field title="" description="Input Project">
            <a slot="title" target="_blank"
               :href="`/projects/${data.projectId}/datasets`">{{data.projectName}} ({{data.projectItemsCount}}
                images)</a>
            <sly-icon slot="icon" :options="{ imageUrl: `${data.projectPreviewUrl}` }"/>
        </sly-field>
    </sly-card>

    <sly-card class="mt15" title="Neural Network" subtitle="Connect to deployed model">
        <div v-if="data.connected === false">
            <div class="fflex">
                <sly-select-app-session :group-id="data.teamId"
                                        :app-session-id.sync="state.sessionId"
                                        :options="data.ssOptions">
                </sly-select-app-session>
                <el-button class="ml10"
                           type="primary"
                           :disabled="!state.sessionId"
                           @click="command('connect')"
                >
                    <i class="zmdi zmdi-refresh mr5"></i> Connect
                </el-button>
            </div>
            <sly-notification
                    v-if="data.connectionError.length > 0"
                    :options="{'name': 'Connection Error', 'type': 'error'}"
                    :content="data.connectionError">
            </sly-notification>
        </div>

        <div v-if="data.connected === true">
            <div v-for="v,k in data.info" class="mb10" style="word-break: break-all;">
                <b>{{k}}</b>: <span>{{v}}</span>
            </div>
            <el-button type="warning" class="mt10" @click="command('disconnect')">
                <i class="zmdi zmdi-close mr5"></i>Disconnect
            </el-button>
        </div>
    </sly-card>

    <sly-card v-if="data.connected === true"
              class="mt15"
              title="Model Classes"
              subtitle="Choose classes that should be kept after prediction, other classes will be ignored">
        <div v-if="state.classesInfo.length === 0">Model does not produce classes</div>
        <div v-if="state.classesInfo.length > 0">
            <div class="fflex">
                <el-button type="text" @click="command('select_all_classes');">
                    <i class="zmdi zmdi-check-all"></i> Select all
                </el-button>
                <el-button type="text" @click="command('deselect_all_classes');"
                           style="margin-left: 25px;">
                    <i class="zmdi zmdi-square-o"></i> Deselect all
                </el-button>
            </div>
            <table>
                <tbody>
                <tr v-for="(objClass, index) in state.classesInfo">
                    <td>
                        <el-checkbox v-model="state.classes[index]"></el-checkbox>
                    </td>
                    <td><i class="zmdi zmdi-circle ml5 mr5" :style="{color: objClass.color}"></i>
                    </td>
                    <td>{{objClass.title}}</td>
                    <td class="ml5" style="color: #777777">{{objClass.shape}}</td>
                </tr>
                </tbody>
            </table>
        </div>
    </sly-card>


    <sly-card v-if="data.connected === true"
              class="mt15"
              title="Model Tags"
              subtitle="Choose tags that should be kept after prediction, other tags will be ignored">
        <div v-if="state.tagsInfo.length === 0">Model does not produce tags</div>
        <div v-if="state.tagsInfo.length > 0">
            <div class="fflex">
                <el-button type="text" @click="command('select_all_tags');">
                    <i class="zmdi zmdi-check-all"></i> Select all
                </el-button>
                <el-button type="text" @click="command('deselect_all_tags');"
                           style="margin-left: 25px;">
                    <i class="zmdi zmdi-square-o"></i> Deselect all
                </el-button>
            </div>
            <table>
                <tbody>
                <tr v-for="(tagMeta, index) in state.tagsInfo">
                    <td>
                        <el-checkbox v-model="state.tags[index]"></el-checkbox>
                    </td>
                    <td><i class="zmdi zmdi-label ml5 mr5" :style="{color: tagMeta.color}"></i></td>
                    <td>{{tagMeta.name}}</td>
                    <td class="ml5" style="color: #777777">{{tagMeta['value_type']}}</td>
                </tr>
                </tbody>
            </table>
        </div>
    </sly-card>


</div>

<!--<div>-->
<!--    <div class="fflex" style="align-items: stretch">-->
<!--        <sly-card title="Input" style="width: 40%">-->
<!--            <sly-field title="" description="Project">-->
<!--                <a slot="title" target="_blank"-->
<!--                   :href="`/projects/${data.projectId}/datasets`">{{data.projectName}} ({{data.projectItemsCount}}-->
<!--                    images)</a>-->
<!--                <sly-icon slot="icon" :options="{ imageUrl: `${data.projectPreviewUrl}` }"/>-->
<!--            </sly-field>-->
<!--        </sly-card>-->

<!--        <sly-card class="ml15" title="Output" style="width: 60%">-->
<!--            <el-button type="primary"-->
<!--                       :disabled="!data.connected"-->
<!--                       @click="command('apply_model')">-->
<!--                <i class="zmdi zmdi-fire" style="margin-right: 5px"></i> Apply model to input-->
<!--            </el-button>-->
<!--            <sly-field v-if="data.resProjectId" title="" description="Project">-->
<!--                <a slot="title" target="_blank"-->
<!--                   :href="`/projects/${data.resProjectId}/datasets`">{{data.resProjectName}}</a>-->
<!--                <sly-icon slot="icon" :options="{ imageUrl: `${data.resProjectPreviewUrl}` }"/>-->
<!--            </sly-field>-->
<!--        </sly-card>-->
<!--    </div>-->

<!--    <div class="fflex mt15" style="align-items: flex-start">-->
<!--        <sly-card title="Settings"-->
<!--                  subtitle="Model info and inference settings"-->
<!--                  class="mr15" style="width: 40%">-->
<!--            <div v-if="data.connected === false">-->
<!--                <sly-field title="Connect to running NN"-->
<!--                           description="Define session (task id) with deployed model">-->
<!--                    <sly-icon slot="icon" :options="{ color: '#2cd26e', bgColor: '#d8f8e7', rounded: false }">-->
<!--                        <i class="zmdi zmdi-compass"></i>-->
<!--                    </sly-icon>-->
<!--                </sly-field>-->
<!--                <div class="fflex">-->
<!--                    <sly-select-app-session :group-id="data.teamId"-->
<!--                                            :app-session-id.sync="state.sessionId"-->
<!--                                            :options="data.ssOptions">-->
<!--                    </sly-select-app-session>-->
<!--                    <el-button class="ml10"-->
<!--                               type="primary"-->
<!--                               :disabled="!state.sessionId"-->
<!--                               @click="command('connect')"-->
<!--                    >-->
<!--                        <i class="zmdi zmdi-refresh mr5"></i> Connect-->
<!--                    </el-button>-->
<!--                </div>-->

<!--                <sly-notification-->
<!--                        v-if="data.connectionError.length > 0"-->
<!--                        :options="{'name': 'Connection Error', 'type': 'error'}"-->
<!--                        :content="data.connectionError">-->
<!--                </sly-notification>-->
<!--            </div>-->
<!--            <div v-if="data.connected === true">-->
<!--                <el-tabs v-model="state.tabName">-->
<!--                    <el-tab-pane label="Info" name="info">-->
<!--                        &lt;!&ndash;                        <span slot="label"><i class="zmdi zmdi-info mr5"></i>Info</span>&ndash;&gt;-->
<!--                        <div v-for="v,k in data.info" class="mb5" style="word-break: break-all;">-->
<!--                            <b style="color: #777777;">{{k}}</b>: {{v}}-->
<!--                        </div>-->
<!--                        <el-button type="warning" class="mt5" @click="command('disconnect')">-->
<!--                            <i class="zmdi zmdi-close mr5"></i>Disconnect-->
<!--                        </el-button>-->
<!--                    </el-tab-pane>-->
<!--                    <el-tab-pane label="Classes" name="classes">-->
<!--                        &lt;!&ndash;                        <span slot="label"><i class="zmdi zmdi-shape mr5"></i>Classes</span>&ndash;&gt;-->
<!--                        <div v-if="state.classesInfo.length === 0">Model does not produce classes</div>-->
<!--                        <div v-if="state.classesInfo.length > 0">-->
<!--                            <div class="mb10">Choose model classes that should be kept, other classes will be-->
<!--                                skipped-->
<!--                            </div>-->
<!--                            <div class="fflex">-->
<!--                                <el-button type="text" size="mini" @click="command('select_all_classes');">-->
<!--                                    <i class="zmdi zmdi-check-all"></i> Select all-->
<!--                                </el-button>-->
<!--                                <el-button type="text" size="mini" @click="command('deselect_all_classes');"-->
<!--                                           style="margin-left: 25px;">-->
<!--                                    <i class="zmdi zmdi-square-o"></i> Deselect all-->
<!--                                </el-button>-->
<!--                            </div>-->
<!--                            <table>-->
<!--                                <tbody>-->
<!--                                <tr v-for="(objClass, index) in state.classesInfo">-->
<!--                                    <td>-->
<!--                                        <el-checkbox class="small" v-model="state.classes[index]"></el-checkbox>-->
<!--                                    </td>-->
<!--                                    <td><i class="zmdi zmdi-circle ml5 mr5" :style="{color: objClass.color}"></i>-->
<!--                                    </td>-->
<!--                                    <td>{{objClass.title}}</td>-->
<!--                                    <td><span class="ml5" style="color: #777777">{{objClass.shape}}</span></td>-->
<!--                                </tr>-->
<!--                                </tbody>-->
<!--                            </table>-->
<!--                        </div>-->
<!--                    </el-tab-pane>-->
<!--                    <el-tab-pane label="Tags" name="tags">-->
<!--                        &lt;!&ndash;                        <span slot="label"><i class="zmdi zmdi-label mr5"></i>Tags</span>&ndash;&gt;-->
<!--                        <div v-if="state.tagsInfo.length === 0">Model does not produce tags</div>-->
<!--                        <div v-if="state.tagsInfo.length > 0">-->
<!--                            <div class="mb10">Choose model tags that should be kept, other tags will be skipped-->
<!--                            </div>-->
<!--                            <div class="fflex">-->
<!--                                <el-button type="text" size="mini" @click="command('select_all_tags');">-->
<!--                                    <i class="zmdi zmdi-check-all"></i> Select all-->
<!--                                </el-button>-->
<!--                                <el-button type="text" size="mini" @click="command('deselect_all_tags');"-->
<!--                                           style="margin-left: 25px;">-->
<!--                                    <i class="zmdi zmdi-square-o"></i> Deselect all-->
<!--                                </el-button>-->
<!--                            </div>-->
<!--                            <table>-->
<!--                                <tbody>-->
<!--                                <tr v-for="(tagMeta, index) in state.tagsInfo">-->
<!--                                    <td>-->
<!--                                        <el-checkbox class="small" v-model="state.tags[index]"></el-checkbox>-->
<!--                                    </td>-->
<!--                                    <td><i class="zmdi zmdi-label ml5 mr5" :style="{color: tagMeta.color}"></i></td>-->
<!--                                    <td>{{tagMeta.name}}</td>-->
<!--                                    <td><span class="ml5" style="color: #777777">{{tagMeta['value_type']}}</span>-->
<!--                                    </td>-->
<!--                                </tr>-->
<!--                                </tbody>-->
<!--                            </table>-->
<!--                        </div>-->
<!--                    </el-tab-pane>-->
<!--                    <el-tab-pane label="Inference" name="inference">-->
<!--                        &lt;!&ndash;                        <span slot="label"><i class="zmdi zmdi-settings mr5"></i></i>Inference</span>&ndash;&gt;-->
<!--                        <div class="mb15">-->
<!--                            <div><b>Mode</b></div>-->
<!--                            <el-select v-model="state.infMode">-->
<!--                                <el-option key="full image" label="full image" value="fi"></el-option>-->
<!--                                <el-option key="roi"-->
<!--                                           label="roi (image region) - coming soon"-->
<!--                                           value="roi"-->
<!--                                           :disabled="true">-->
<!--                                </el-option>-->
<!--                                <el-option key="sw"-->
<!--                                           label="sliding window - coming soon"-->
<!--                                           value="sw"-->
<!--                                           :disabled="true">-->
<!--                                </el-option>-->
<!--                            </el-select>-->
<!--                        </div>-->

<!--                        <sly-field title="Class/tag name suffix"-->
<!--                                   description="Add suffix to model class/tag name if it has conflicts with existing one">-->
<!--                            <el-input v-model="state.suffix" style="width: 193px"></el-input>-->
<!--                        </sly-field>-->

<!--                        &lt;!&ndash;                        <div class="mb15">&ndash;&gt;-->
<!--                        &lt;!&ndash;                            <div><b>Class/tag name suffix</b></div>&ndash;&gt;-->
<!--                        &lt;!&ndash;                            <div>Add suffix to model class/tag name if it has conflicts with existing one</div>&ndash;&gt;-->
<!--                        &lt;!&ndash;                            <el-input v-model="state.suffix" style="width: 193px"></el-input>&ndash;&gt;-->
<!--                        &lt;!&ndash;                        </div>&ndash;&gt;-->

<!--                        <div class="mb15">-->
<!--                            <div><b>How to add predictions</b></div>-->
<!--                            <el-select v-model="state.addMode" style="width: 250px;">-->
<!--                                <el-option key="merge" label="merge with existing labels" value="merge"></el-option>-->
<!--                                <el-option key="replace" label="replace existing labels" value="replace"></el-option>-->
<!--                            </el-select>-->
<!--                        </div>-->


<!--                        <sly-field title="Settings"-->
<!--                                   description="Model specific inference settings in YAML format">-->
<!--                            <sly-editor v-model="state.settings"-->
<!--                                        :options="{height: '200px', mode: 'ace/mode/yaml'}"></sly-editor>-->
<!--                        </sly-field>-->
<!--                    </el-tab-pane>-->
<!--                </el-tabs>-->
<!--            </div>-->
<!--        </sly-card>-->
<!--        <sly-card title="Preview on random image"-->
<!--                  subtitle="Preview original annotations and predictions"-->
<!--                  style="width: 60%">-->
<!--            <div slot="header">-->
<!--                <el-button type="primary"-->
<!--                           :disabled="!data.connected"-->
<!--                           :loading="state.processing"-->
<!--                           @click="state.processing = true; command('preview')">-->
<!--                    <i class="zmdi zmdi-grid" style="margin-right: 5px"></i> Preview-->
<!--                </el-button>-->
<!--            </div>-->
<!--            <sly-grid-gallery v-if="data.gallery"-->
<!--                              :content="data.gallery ? data.gallery.content : data.emptyGallery.content"-->
<!--                              :options="data.gallery ? data.gallery.options : data.emptyGallery.options">-->
<!--                <template v-slot:card-footer="{ annotation }">-->
<!--                    <div class="mt5" style="text-align: center">-->
<!--                        <el-tag type="primary">{{annotation.info.title}}</el-tag>-->
<!--                    </div>-->
<!--                </template>-->
<!--            </sly-grid-gallery>-->
<!--        </sly-card>-->
<!--    </div>-->
<!--</div>-->